/*!
  * vue-i18n-tools v0.1.7
  * (c) 2018 Andrej Adamcik
  * @license MIT
  */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.VueI18nTools=e()}(this,function(){"use strict";var e=function(t){e.installed||(e.installed=!0,t.mixin({beforeCreate:function(){this.$options.i18n?(this._i18n=this.$options.i18n,this._i18n.subscribeData(this),this._i18nSubscribing=!0):this.$root&&this.$root.$i18n&&(this._i18n=this.$root.$i18n,this._i18n.subscribeData(this),this._i18nSubscribing=!0)},beforeDestroy:function(){this._i18n&&(this._i18nSubscribing&&(this._i18n.unsubscribeData(this),delete this._i18nSubscribing),delete this._i18n)}}),Object.defineProperty(t.prototype,"$i18n",{get:function(){return this._i18n}}),t.prototype.$t=function(t,e){return this._i18n.translate(t,e)})};var t,a=(function(t,e){!function(){var d={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};function b(t){return function(t,e){var n,s,r,i,o,a,l,u,c,p=1,f=t.length,h="";for(s=0;s<f;s++)if("string"==typeof t[s])h+=t[s];else if(Array.isArray(t[s])){if((i=t[s])[2])for(n=e[p],r=0;r<i[2].length;r++){if(!n.hasOwnProperty(i[2][r]))throw new Error(b('[sprintf] property "%s" does not exist',i[2][r]));n=n[i[2][r]]}else n=i[1]?e[i[1]]:e[p++];if(d.not_type.test(i[8])&&d.not_primitive.test(i[8])&&n instanceof Function&&(n=n()),d.numeric_arg.test(i[8])&&"number"!=typeof n&&isNaN(n))throw new TypeError(b("[sprintf] expecting number but found %T",n));switch(d.number.test(i[8])&&(u=0<=n),i[8]){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,i[6]?parseInt(i[6]):0);break;case"e":n=i[7]?parseFloat(n).toExponential(i[7]):parseFloat(n).toExponential();break;case"f":n=i[7]?parseFloat(n).toFixed(i[7]):parseFloat(n);break;case"g":n=i[7]?String(Number(n.toPrecision(i[7]))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=i[7]?n.substring(0,i[7]):n;break;case"t":n=String(!!n),n=i[7]?n.substring(0,i[7]):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=i[7]?n.substring(0,i[7]):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=i[7]?n.substring(0,i[7]):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}d.json.test(i[8])?h+=n:(!d.number.test(i[8])||u&&!i[3]?c="":(c=u?"+":"-",n=n.toString().replace(d.sign,"")),a=i[4]?"0"===i[4]?"0":i[4].charAt(1):" ",l=i[6]-(c+n).length,o=i[6]&&0<l?a.repeat(l):"",h+=i[5]?c+n+o:"0"===a?c+o+n:o+c+n)}return h}(function(t){if(l[t])return l[t];var e,n=t,s=[],r=0;for(;n;){if(null!==(e=d.text.exec(n)))s.push(e[0]);else if(null!==(e=d.modulo.exec(n)))s.push("%");else{if(null===(e=d.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(e[2]){r|=1;var i=[],o=e[2],a=[];if(null===(a=d.key.exec(o)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(i.push(a[1]);""!==(o=o.substring(a[0].length));)if(null!==(a=d.key_access.exec(o)))i.push(a[1]);else{if(null===(a=d.index_access.exec(o)))throw new SyntaxError("[sprintf] failed to parse named argument key");i.push(a[1])}e[2]=i}else r|=2;if(3===r)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");s.push(e)}n=n.substring(e[0].length)}return l[t]=s}(t),arguments)}function t(t,e){return b.apply(null,[t].concat(e||[]))}var l=Object.create(null);e.sprintf=b,e.vsprintf=t,"undefined"!=typeof window&&(window.sprintf=b,window.vsprintf=t)}()}(t={exports:{}},t.exports),t.exports).vsprintf,n=function(t){t=t||{},this.locale=t.locale||null,this.locales={},this.useKeys="boolean"!=typeof t.useKeys||t.useKeys,this.autoLoadLocale="boolean"==typeof t.autoLoadLocale&&t.autoLoadLocale,this._dataListeners=[],this._translateListeners=[],this.resourceUrl=t.resourceUrl||null;var e=t.locales||{};for(var n in e)this.addLocale(n,e[n],!0)};return n.prototype.hasLocale=function(t){return this.locales.hasOwnProperty(t)},n.prototype.addLocale=function(t,e,n){void 0===n&&(n=!1),this.locales[t]||(this.locales[t]=new function(t,e){this.locale=t,this.plural=e.plural||[1,null],this.translations=e.translations||{}}(t,e),!n&&this.locale===t&&this.updateUI())},n.prototype.removeLocale=function(t){delete this.locales[t],this.locale===t&&this.updateUI()},n.prototype.loadLocale=function(n){var s=this;return new Promise(function(t,e){if(!s.resourceUrl)throw new Error('Could not set locale "'+n+"\", because it's no data and resource url is not set.");return fetch(s.resourceUrl+"/"+n+".json")}).then(function(t){return t.json()}).then(function(t){s.addLocale(n,t)})},n.prototype.setLocale=function(t){var e=this;return this.locale===t?Promise.resolve():this.hasLocale(t)?(this.locale=t,this.updateUI(),Promise.resolve()):this.autoLoadLocale?this.loadLocale(t).then(function(){e.locale=t,e.updateUI()}):(this.locale=t,void this.updateUI())},n.prototype.getTranslation=function(t,e){if(void 0===e&&(e=this.locale),this.locales[e]){if(!this.useKeys)return this.locales[e].translations[t];for(var n,s=t.split("."),r=this.locales[e].translations;r&&(n=s.shift());)r=r[n];return r}},n.prototype.getTranslationVariant=function(t,e,n){void 0===n&&(n=this.locale);for(var s=this.locales[n].plural,r=-1,i=0;i<s.length;i++){if("number"==typeof s[i]&&e===s[i]){r=i;break}if(Array.isArray(s[i])&&e>=s[i][0]&&e<=s[i][1]){r=i;break}null===s[i]&&(r=i)}return t[r]},n.prototype.translate=function(t,e){var n=t,s=!1,r=this.getTranslation(t);if("string"==typeof r)t=r,s=!0;else if(Array.isArray(r)&&r.length&&"number"==typeof e){var i=this.getTranslationVariant(r,e);i&&(t=i,s=!0)}e="number"==typeof e?[e]:e||[];for(var o=0;o<this._translateListeners.length;o++)this._translateListeners[o](n,s);return a(t,e)},n.prototype.subscribeData=function(t){this._dataListeners.push(t)},n.prototype.unsubscribeData=function(t){var e=this._dataListeners.indexOf(t);-1!==e&&this._dataListeners.splice(e,1)},n.prototype.subscribeTranslate=function(t){this._translateListeners.push(t)},n.prototype.unsubscribeTranslate=function(t){var e=this._translateListeners.indexOf(t);-1!==e&&this._translateListeners.splice(e,1)},n.prototype.updateUI=function(){for(var t=this._dataListeners.length;t--;)this._dataListeners[t].$nextTick(function(){this.$forceUpdate()})},n.install=e,"undefined"!=typeof window&&window.Vue&&window.Vue.use(n),n.version="0.1.7",n.install=e,n});