/*!
  * vue-i18n-tools v0.1.1
  * (c) 2018 Andrej Adamcik
  * @license MIT
  */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.VueI18nTools=e()}(this,function(){"use strict";var e=function(t){e.installed||(e.installed=!0,t.mixin({beforeCreate:function(){this.$options.i18n?(this._i18n=this.$options.i18n,this._i18n.subscribeData(this),this._i18nSubscribing=!0):this.$root&&this.$root.$i18n&&(this._i18n=this.$root.$i18n,this._i18n.subscribeData(this),this._i18nSubscribing=!0)},beforeDestroy:function(){this._i18n&&(this._i18nSubscribing&&(this._i18n.unsubscribeData(this),delete this._i18nSubscribing),delete this._i18n)}}),Object.defineProperty(t.prototype,"$i18n",{get:function(){return this._i18n}}),t.prototype.$t=function(t,e){return this._i18n.translate(t,e)})};var t,i=(function(t,e){!function(){var d={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};function b(t){return function(t,e){var n,r,i,s,o,a,l,c,u,p=1,f=t.length,h="";for(r=0;r<f;r++)if("string"==typeof t[r])h+=t[r];else if(Array.isArray(t[r])){if((s=t[r])[2])for(n=e[p],i=0;i<s[2].length;i++){if(!n.hasOwnProperty(s[2][i]))throw new Error(b('[sprintf] property "%s" does not exist',s[2][i]));n=n[s[2][i]]}else n=s[1]?e[s[1]]:e[p++];if(d.not_type.test(s[8])&&d.not_primitive.test(s[8])&&n instanceof Function&&(n=n()),d.numeric_arg.test(s[8])&&"number"!=typeof n&&isNaN(n))throw new TypeError(b("[sprintf] expecting number but found %T",n));switch(d.number.test(s[8])&&(c=0<=n),s[8]){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,s[6]?parseInt(s[6]):0);break;case"e":n=s[7]?parseFloat(n).toExponential(s[7]):parseFloat(n).toExponential();break;case"f":n=s[7]?parseFloat(n).toFixed(s[7]):parseFloat(n);break;case"g":n=s[7]?String(Number(n.toPrecision(s[7]))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=s[7]?n.substring(0,s[7]):n;break;case"t":n=String(!!n),n=s[7]?n.substring(0,s[7]):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=s[7]?n.substring(0,s[7]):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=s[7]?n.substring(0,s[7]):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}d.json.test(s[8])?h+=n:(!d.number.test(s[8])||c&&!s[3]?u="":(u=c?"+":"-",n=n.toString().replace(d.sign,"")),a=s[4]?"0"===s[4]?"0":s[4].charAt(1):" ",l=s[6]-(u+n).length,o=s[6]&&0<l?a.repeat(l):"",h+=s[5]?u+n+o:"0"===a?u+o+n:o+u+n)}return h}(function(t){if(l[t])return l[t];var e,n=t,r=[],i=0;for(;n;){if(null!==(e=d.text.exec(n)))r.push(e[0]);else if(null!==(e=d.modulo.exec(n)))r.push("%");else{if(null===(e=d.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(e[2]){i|=1;var s=[],o=e[2],a=[];if(null===(a=d.key.exec(o)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(s.push(a[1]);""!==(o=o.substring(a[0].length));)if(null!==(a=d.key_access.exec(o)))s.push(a[1]);else{if(null===(a=d.index_access.exec(o)))throw new SyntaxError("[sprintf] failed to parse named argument key");s.push(a[1])}e[2]=s}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push(e)}n=n.substring(e[0].length)}return l[t]=r}(t),arguments)}function t(t,e){return b.apply(null,[t].concat(e||[]))}var l=Object.create(null);e.sprintf=b,e.vsprintf=t,"undefined"!=typeof window&&(window.sprintf=b,window.vsprintf=t)}()}(t={exports:{}},t.exports),t.exports).vsprintf,n=function(t){t=t||{},this.locale=t.locale||null,this.locales={},this._dataListeners=[],this.resourceUrl=t.resourceUrl||null;var e=t.locales||{};for(var n in e)this.addLocale(n,e[n],!0);this.hasLocale(this.locale)||this.loadLocale(name).catch(function(t){})};return n.prototype.hasLocale=function(t){return this.locales.hasOwnProperty(t)},n.prototype.addLocale=function(t,e,n){void 0===n&&(n=!1),this.locales[t]||(this.locales[t]=new function(t,e){this.locale=t,this.plural=e.plural||[1,null],this.translations=e.translations||{}}(t,e),!n&&this.locale===t&&this.updateUI())},n.prototype.removeLocale=function(t){delete this.locales[t],this.locale===t&&this.updateUI()},n.prototype.loadLocale=function(n){var r=this;return new Promise(function(t,e){if(!r.resourceUrl)throw new Error('Could not set locale "'+n+"\", because it's no data and resource url is not set.");return fetch(r.resourceUrl+"/"+n+".json")}).then(function(t){return t.json()}).then(function(t){r.addLocale(n,t)})},n.prototype.setLocale=function(t){var e=this;return this.locale===t?Promise.resolve():this.hasLocale(t)?(this.locale=t,this.updateUI(),Promise.resolve()):this.loadLocale(t).then(function(){e.locale=t,e.updateUI()})},n.prototype.getTranslation=function(t,e){if(void 0===e&&(e=this.locale),this.locales[e])return this.locales[e].translations[t]},n.prototype.getTranslationVariant=function(t,e,n){void 0===n&&(n=this.locale);for(var r=this.locales[n].plural,i=-1,s=0;s<r.length;s++){if("number"==typeof r[s]&&e===r[s]){i=s;break}if(Array.isArray(r[s])&&e>=r[s][0]&&e<=r[s][1]){i=s;break}null===r[s]&&(i=s)}return t[i]},n.prototype.translate=function(t,e){var n=this.getTranslation(t);if("string"==typeof n)t=n;else if(Array.isArray(n)&&n.length&&"number"==typeof e){var r=this.getTranslationVariant(n,e);r&&(t=r)}return i(t,e="number"==typeof e?[e]:e||[])},n.prototype.subscribeData=function(t){this._dataListeners.push(t)},n.prototype.unsubscribeData=function(t){var e=this._dataListeners.indexOf(t);-1!==e&&this._dataListeners.splice(e,1)},n.prototype.updateUI=function(){for(var t=this._dataListeners.length;t--;)this._dataListeners[t].$nextTick(function(){this.$forceUpdate()})},n.install=e,window.Vue&&window.Vue.use(n),n.version="0.1.1",n.install=e,n});